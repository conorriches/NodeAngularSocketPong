<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>


    <link rel="stylesheet" type="text/css" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="/node_modules/socket.io/node_modules/socket.io-client/socket.io.js"></script>
    <script src="/node_modules/angular/angular.min.js"></script>
    <script src="js/model.js"></script>
</head>
<body ng-app="myApp" ng-controller="myCtrl" >

<div class="container" ng-show="((game.state.players.left) == null || (game.state.players.left) == null)">
    <h2>Node & AngularJS Pong</h2>
    <h3>Welcome to multiplayer Pong!</h3>

    <div class="scoreboard">
        <h4>To play, there must be a left player and a right player. Please choose your side below:</h4>
        <button ng-click="join('left')" ng-class="{'selected':side=='left'}">Left</button>
        <button ng-click="join('right')" ng-class="{'selected':side=='right'}">Right</button>
    </div>
</div>
<div class="container" ng-show="!((game.state.players.left) == null || (game.state.players.left) == null)">
    <h2>Node & AngularJS Pong</h2>

    <div class="scoreboard">
        <div class="col">
            <h3>SIDE: {{side.toString().toUpperCase()}}</h3>

        </div>
        <div class="col">
            <button ng-class="{'selected':!game.state.inPlay}" ng-click="start()">{{game.state.outcome==0?"Start":"NEW GAME"}}</button>
        </div>
        <div class="col">
            <h3>Status: {{ game.state.inPlay?"PLAY":(game.state.outcome ==0)?"ROUND":"OVER"}}</h3>

        </div>

    </div>

    <div class="scoreboard short">
        <div class="col">
            <h3>LEFT</h3>
            <h3>{{game.state.players.left.points}}</h3>
        </div>
        <div class="col">
            <h3>{{ game.state.outcome == 0 ? "- -": (game.state.outcome < 0)?"LEFT WIN":"RIGHT WIN";}}</h3>
        </div>
        <div class="col">
            <h3>RIGHT</h3>
            <h3>{{game.state.players.right.points}}</h3>
        </div>
    </div>



    <div id="area" ng-mousemove="mouseMove($event)">
        <div id="leftbat" ng-style="{top: setGUIBatBounds(game.state.players.left.bat) + 'px'}"></div>
        <div id="ball" ng-style="{
            top: (game.state.ball.y) + 'px',
            left: (game.state.ball.x) + 'px'
        }" >
        </div>
        <div id="rightbat" ng-style="{top: setGUIBatBounds(game.state.players.right.bat)  + 'px'}"></div>
    </div>

    <div class="scoreboard">
        {{game.state}}
    </div>

</div>




</body>
</html>